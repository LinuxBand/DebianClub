---
title: åŒç³»ç»Ÿå®‰è£…æŒ‡å—
description: Windows ä¸ Debian 13 åŒç³»ç»Ÿå®‰è£…å®Œå…¨æŒ‡å—ï¼Œä¿ç•™ Windows çš„åŒæ—¶ä½“éªŒ Linux
---

# åŒç³»ç»Ÿå®‰è£…æŒ‡å—

å¦‚æœä½ æƒ³ä¿ç•™ Windows çš„åŒæ—¶ä½“éªŒ Debianï¼ŒåŒç³»ç»Ÿæ˜¯æœ€ä½³é€‰æ‹©ã€‚æœ¬æŒ‡å—å°†å¸¦ä½ å®Œæˆä»å‡†å¤‡åˆ°å®‰è£…çš„å…¨è¿‡ç¨‹ã€‚

## ğŸ¯ åŒç³»ç»Ÿçš„ä¼˜åŠ¿ä¸è€ƒé‡

### ä¼˜åŠ¿

- âœ… **ä¿ç•™ Windows** ç”¨äºæ¸¸æˆã€åŠå…¬è½¯ä»¶ã€Adobe ç­‰ä¸“ä¸šå·¥å…·
- âœ… **äº«å— Debian çš„ç¨³å®šä¸å®‰å…¨**ï¼Œç”¨äºå¼€å‘ã€æœåŠ¡å™¨ç®¡ç†ã€æ—¥å¸¸ä½¿ç”¨
- âœ… **ä¸¤ä¸ªç³»ç»Ÿå®Œå…¨ç‹¬ç«‹**ï¼Œäº’ä¸å½±å“ï¼Œæ•°æ®éš”ç¦»
- âœ… **å¯ä»¥éšæ—¶é€‰æ‹©å¯åŠ¨å“ªä¸ªç³»ç»Ÿ**ï¼Œé€šè¿‡ GRUB å¼•å¯¼èœå•åˆ‡æ¢

### è€ƒé‡å› ç´ 

- éœ€è¦è¶³å¤Ÿçš„ç¡¬ç›˜ç©ºé—´ï¼ˆå»ºè®®è‡³å°‘ 50 GB ç»™ Debianï¼‰
- å®‰è£…è¿‡ç¨‹ä¸­çš„åˆ†åŒºæ“ä½œéœ€è¦ä»”ç»†ï¼Œè¯¯æ“ä½œå¯èƒ½ä¸¢å¤±æ•°æ®
- éœ€è¦äº†è§£ç£ç›˜åˆ†åŒºçš„åŸºæœ¬æ¦‚å¿µ
- Windows å¤§ç‰ˆæœ¬æ›´æ–°å¯èƒ½å½±å“ GRUB å¼•å¯¼

### å®‰è£…æ–¹å¼å¯¹æ¯”

| æ–¹å¼ | é€‚åˆäººç¾¤ | æ€§èƒ½ | éš¾åº¦ | é£é™© |
|------|---------|------|------|------|
| **åŒç³»ç»Ÿå®‰è£…** | éœ€è¦åŸç”Ÿæ€§èƒ½çš„ç”¨æˆ· | â­â­â­â­â­ | ä¸­ç­‰ | ä¸­ç­‰ |
| **è™šæ‹Ÿæœºå®‰è£…** | ä»…éœ€è½»åº¦ä½¿ç”¨ Linux | â­â­â­ | ç®€å• | æä½ |
| **WSL** | Windows ä¸‹ä½¿ç”¨ Linux å‘½ä»¤è¡Œ | â­â­â­â­ | ç®€å• | æä½ |
| **å®Œå…¨æ›¿æ¢** | ä¸å†éœ€è¦ Windows | â­â­â­â­â­ | ç®€å• | é«˜ |

## ğŸ“‹ å®‰è£…å‰å‡†å¤‡

### å‡†å¤‡æ£€æŸ¥æ¸…å•

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·é€ä¸€ç¡®è®¤ä»¥ä¸‹äº‹é¡¹ï¼š

- [ ] å¤‡ä»½ Windows ä¸­çš„é‡è¦æ•°æ®ï¼ˆæ–‡æ¡£ã€ç…§ç‰‡ã€ä¹¦ç­¾ç­‰ï¼‰
- [ ] ç¡®è®¤ç¡¬ç›˜è‡³å°‘æœ‰ 50 GB å¯ç”¨ç©ºé—´ï¼ˆæ¨è 100 GB ä»¥ä¸Šï¼‰
- [ ] å·²ä¸‹è½½ Debian 13 ISO é•œåƒ
- [ ] å·²åˆ¶ä½œå¥½å¯åŠ¨ U ç›˜ï¼ˆå‚è€ƒ [åˆ¶ä½œå¯åŠ¨ç›˜](/basics/bootable-media)ï¼‰
- [ ] äº†è§£ BIOS/UEFI è®¾ç½®æ–¹æ³•ï¼ˆå‚è€ƒ [BIOS è®¾ç½®](/basics/bios-settings)ï¼‰
- [ ] è®°å½• Windows äº§å“å¯†é’¥ï¼ˆä»¥é˜²ä¸‡ä¸€ï¼‰
- [ ] ç”µæºè¿æ¥ç¨³å®šï¼ˆç¬”è®°æœ¬ç”¨æˆ·åŠ¡å¿…æ¥é€šç”µæºï¼‰

::: warning âš ï¸ æ•°æ®å¤‡ä»½æ˜¯ç¬¬ä¸€è¦åŠ¡
åˆ†åŒºæ“ä½œæœ‰é£é™©ï¼å³ä½¿æŒ‰ç…§æ­£ç¡®æ­¥éª¤æ“ä½œï¼Œä¹Ÿå»ºè®®æå‰å°†é‡è¦æ–‡ä»¶å¤‡ä»½åˆ°å¤–ç½®ç¡¬ç›˜ã€äº‘ç›˜æˆ–å…¶ä»–è®¾å¤‡ä¸Šã€‚
:::

### ç¡®è®¤ç³»ç»Ÿå¯åŠ¨æ¨¡å¼

åœ¨å¼€å§‹å®‰è£…å‰ï¼Œä½ éœ€è¦ç¡®è®¤ç”µè„‘ä½¿ç”¨çš„æ˜¯ UEFI è¿˜æ˜¯ Legacy BIOS æ¨¡å¼ï¼Œå› ä¸ºè¿™ç›´æ¥å½±å“åˆ†åŒºæ–¹æ¡ˆã€‚

```mermaid
flowchart TD
    A[ç¡®è®¤å¯åŠ¨æ¨¡å¼] --> B{åœ¨ Windows ä¸­æ£€æŸ¥}
    B --> C[æ‰“å¼€ PowerShell<br/>è¿è¡Œ msinfo32]
    C --> D{æŸ¥çœ‹ BIOS æ¨¡å¼}
    D -->|æ˜¾ç¤º UEFI| E[âœ… UEFI æ¨¡å¼<br/>ä½¿ç”¨ GPT åˆ†åŒºè¡¨]
    D -->|æ˜¾ç¤º ä¼ ç»Ÿ| F[âš ï¸ Legacy BIOS<br/>ä½¿ç”¨ MBR åˆ†åŒºè¡¨]
    E --> G[æ¨èï¼šç°ä»£ç”µè„‘çš„æ ‡å‡†æ¨¡å¼]
    F --> H[æ³¨æ„ï¼šè€ç”µè„‘å¯èƒ½ä½¿ç”¨æ­¤æ¨¡å¼]
```

åœ¨ Windows ä¸­ï¼Œæ‰“å¼€ PowerShell è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥ç¡®è®¤ï¼š

```powershell
# æ–¹æ³•ä¸€ï¼šç³»ç»Ÿä¿¡æ¯
msinfo32
# æŸ¥çœ‹"BIOS æ¨¡å¼"å­—æ®µï¼Œæ˜¾ç¤º"UEFI"æˆ–"ä¼ ç»Ÿ"

# æ–¹æ³•äºŒï¼šPowerShell å‘½ä»¤
$env:firmware_type
# è¿”å› UEFI æˆ– Legacy
```

### UEFI ä¸ Legacy BIOS å¯¹æ¯”

| ç‰¹æ€§ | UEFI | Legacy BIOS |
|------|------|-------------|
| **åˆ†åŒºè¡¨** | GPT | MBR |
| **å¯åŠ¨åˆ†åŒº** | éœ€è¦ EFI ç³»ç»Ÿåˆ†åŒºï¼ˆESPï¼‰ | ä¸éœ€è¦ |
| **æœ€å¤§ç£ç›˜æ”¯æŒ** | è¶…è¿‡ 2 TB | æœ€å¤§ 2 TB |
| **å¯åŠ¨é€Ÿåº¦** | è¾ƒå¿« | è¾ƒæ…¢ |
| **å®‰å…¨å¯åŠ¨** | æ”¯æŒ Secure Boot | ä¸æ”¯æŒ |
| **é€‚ç”¨å¹´ä»£** | 2012 å¹´åçš„ç”µè„‘ | 2012 å¹´å‰çš„è€ç”µè„‘ |

::: tip ğŸ’¡ åˆå­¦è€…å»ºè®®
2012 å¹´ä»¥åå‡ºå‚çš„ç”µè„‘å‡ ä¹éƒ½æ˜¯ UEFI æ¨¡å¼ã€‚å¦‚æœä½ çš„ç”µè„‘æ˜¯è¿‘å‡ å¹´è´­ä¹°çš„ï¼Œå¯ä»¥ç›´æ¥æŒ‰ UEFI æ¨¡å¼æ“ä½œã€‚
:::

## ğŸ’¾ åˆ†åŒºè§„åˆ’

åˆ†åŒºè§„åˆ’æ˜¯åŒç³»ç»Ÿå®‰è£…æœ€å…³é”®çš„ç¯èŠ‚ã€‚åˆç†çš„åˆ†åŒºæ–¹æ¡ˆèƒ½è®©ä¸¤ä¸ªç³»ç»Ÿå’Œè°å…±å­˜ã€‚

### ç£ç›˜åˆ†åŒºå¸ƒå±€

ä»¥ä¸‹æ˜¯å…¸å‹çš„ UEFI åŒç³»ç»Ÿåˆ†åŒºå¸ƒå±€ï¼š

```mermaid
block-beta
    columns 5
    A["EFI ç³»ç»Ÿåˆ†åŒº\n(ESP)\n512 MB\nFAT32"]:1
    B["Windows\n(NTFS)\nC: ç›˜"]:1
    C["Debian /\n(æ ¹åˆ†åŒº)\next4\n30 GB+"]:1
    D["Debian /home\next4\nå‰©ä½™ç©ºé—´"]:1
    E["Swap\näº¤æ¢åˆ†åŒº\nç­‰äºå†…å­˜"]:1
```

### æ¨èåˆ†åŒºæ–¹æ¡ˆ

æ ¹æ®ä½ çš„ç¡¬ç›˜å¤§å°ï¼Œé€‰æ‹©åˆé€‚çš„åˆ†åŒºæ–¹æ¡ˆï¼š

| åˆ†åŒº | æœ€å°æ–¹æ¡ˆï¼ˆ120 GBï¼‰ | æ¨èæ–¹æ¡ˆï¼ˆ256 GB+ï¼‰ | é«˜çº§æ–¹æ¡ˆï¼ˆ512 GB+ï¼‰ |
|------|-------------------|--------------------|--------------------|
| **EFI ç³»ç»Ÿåˆ†åŒº** | 512 MBï¼ˆå·²æœ‰ï¼‰ | 512 MBï¼ˆå·²æœ‰ï¼‰ | 512 MBï¼ˆå·²æœ‰ï¼‰ |
| **Windowsï¼ˆNTFSï¼‰** | 60 GB | 120 GB | 200 GB |
| **Debian /ï¼ˆæ ¹åˆ†åŒºï¼‰** | 20 GB | 40 GB | 60 GB |
| **Debian /home** | 30 GB | 80 GB | 220 GB |
| **Swapï¼ˆäº¤æ¢åˆ†åŒºï¼‰** | 4 GB | 8 GB | 16 GB |
| **å…±äº«æ•°æ®åˆ†åŒºï¼ˆå¯é€‰ï¼‰** | â€” | â€” | å‰©ä½™ç©ºé—´ï¼ˆNTFSï¼‰ |

### åˆ†åŒºå¤§å°å»ºè®®

| æŒ‚è½½ç‚¹ | æœ€å°å¤§å° | æ¨èå¤§å° | è¯´æ˜ |
|--------|---------|---------|------|
| `/`ï¼ˆæ ¹åˆ†åŒºï¼‰ | 15 GB | 30-50 GB | ç³»ç»Ÿæ–‡ä»¶å’Œç¨‹åº |
| `/home` | 10 GB | 50 GB+ | ç”¨æˆ·æ–‡ä»¶ã€é…ç½®å’Œä¸‹è½½ |
| `swap` | 2 GB | ç­‰äºå†…å­˜å¤§å° | ä¼‘çœ éœ€è¦ â‰¥ å†…å­˜å¤§å° |
| `/boot/efi` | 100 MB | 512 MB | ä¸ Windows å…±äº«å·²æœ‰çš„ EFI åˆ†åŒº |

::: tip ğŸ’¡ å…³äº Swap åˆ†åŒº
å¦‚æœä½ çš„å†…å­˜ â‰¥ 16 GB ä¸”ä¸éœ€è¦ä¼‘çœ åŠŸèƒ½ï¼Œswap åˆ†åŒºå¯ä»¥è®¾ç½®ä¸º 4-8 GBã€‚å¦‚æœéœ€è¦ä¼‘çœ ï¼ˆHibernateï¼‰ï¼Œswap å¿…é¡» â‰¥ ç‰©ç†å†…å­˜å¤§å°ã€‚
:::

## ğŸ”§ Windows ç«¯å‡†å¤‡

åœ¨å¼€å§‹å®‰è£… Debian ä¹‹å‰ï¼Œéœ€è¦åœ¨ Windows ä¸­å®Œæˆå‡ é¡¹å‡†å¤‡å·¥ä½œã€‚

### æ­¥éª¤ 1ï¼šå…³é—­å¿«é€Ÿå¯åŠ¨

Windows å¿«é€Ÿå¯åŠ¨ä¼šé”å®šç£ç›˜åˆ†åŒºï¼Œå¯èƒ½å¯¼è‡´ Debian æ— æ³•æ­£å¸¸è®¿é—® NTFS åˆ†åŒºã€‚

1. æ‰“å¼€ **æ§åˆ¶é¢æ¿** â†’ **ç”µæºé€‰é¡¹**
2. ç‚¹å‡»å·¦ä¾§ **é€‰æ‹©ç”µæºæŒ‰é’®çš„åŠŸèƒ½**
3. ç‚¹å‡» **æ›´æ”¹å½“å‰ä¸å¯ç”¨çš„è®¾ç½®**
4. å–æ¶ˆå‹¾é€‰ **å¯ç”¨å¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰**
5. ç‚¹å‡» **ä¿å­˜ä¿®æ”¹**

```powershell
# æˆ–è€…åœ¨ç®¡ç†å‘˜ PowerShell ä¸­æ‰§è¡Œ
powercfg /h off
# è¿™ä¼šåŒæ—¶å…³é—­ä¼‘çœ å’Œå¿«é€Ÿå¯åŠ¨
```

### æ­¥éª¤ 2ï¼šå…³é—­ä¼‘çœ 

ä¼‘çœ åŠŸèƒ½ä¼šå°†å†…å­˜æ•°æ®ä¿å­˜åˆ°ç¡¬ç›˜ï¼Œå¯èƒ½å½±å“ Debian è®¿é—® Windows åˆ†åŒºã€‚

```cmd
:: åœ¨ç®¡ç†å‘˜å‘½ä»¤æç¤ºç¬¦ä¸­è¿è¡Œ
powercfg /h off
```

### æ­¥éª¤ 3ï¼šå‹ç¼© Windows åˆ†åŒº

è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥â€”â€”ä» Windows åˆ†åŒºä¸­è…¾å‡ºç©ºé—´ç»™ Debianã€‚

**ä½¿ç”¨ç£ç›˜ç®¡ç†å·¥å…·ï¼š**

1. å³é”®"æ­¤ç”µè„‘" â†’ **ç®¡ç†** â†’ **ç£ç›˜ç®¡ç†**
2. å³é”®ä½ çš„ **C: ç›˜**ï¼ˆæˆ–æ•°æ®ç›˜ï¼‰ â†’ **å‹ç¼©å·**
3. ç­‰å¾…ç³»ç»Ÿè®¡ç®—å¯å‹ç¼©ç©ºé—´
4. åœ¨"è¾“å…¥å‹ç¼©ç©ºé—´é‡"ä¸­å¡«å†™ä½ è¦ç»™ Debian çš„ç©ºé—´å¤§å°ï¼ˆå•ä½ MBï¼‰
5. ç‚¹å‡» **å‹ç¼©**

```powershell
# ä¾‹å¦‚ï¼šè…¾å‡º 100 GB ç»™ Debian
# 100 GB = 102400 MB
# åœ¨"è¾“å…¥å‹ç¼©ç©ºé—´é‡"ä¸­è¾“å…¥ 102400
```

å‹ç¼©å®Œæˆåï¼Œä½ ä¼šåœ¨ç£ç›˜ç®¡ç†å™¨ä¸­çœ‹åˆ°ä¸€å—"æœªåˆ†é…"çš„ç©ºé—´ï¼Œè¿™å°±æ˜¯ Debian çš„å®‰è£…ä½ç½®ã€‚

::: warning âš ï¸ é‡è¦æé†’
- ä¸è¦åˆ é™¤ **EFI ç³»ç»Ÿåˆ†åŒº**ï¼ˆé€šå¸¸ 100-512 MBï¼ŒFAT32 æ ¼å¼ï¼‰
- ä¸è¦åˆ é™¤ **Windows æ¢å¤åˆ†åŒº**ï¼ˆé€šå¸¸ 500 MB - 1 GBï¼‰
- ä¸è¦åˆ é™¤ **MSRï¼ˆMicrosoft Reservedï¼‰åˆ†åŒº**
- åªåœ¨"æœªåˆ†é…"ç©ºé—´ä¸Šå®‰è£… Debian
:::

### æ­¥éª¤ 4ï¼šå…³é—­ BitLockerï¼ˆå¦‚æœå¯ç”¨ï¼‰

å¦‚æœä½ çš„ Windows å¯ç”¨äº† BitLocker åŠ å¯†ï¼Œå¿…é¡»å…ˆè§£å¯†ï¼š

1. æ‰“å¼€ **è®¾ç½®** â†’ **éšç§å’Œå®‰å…¨æ€§** â†’ **è®¾å¤‡åŠ å¯†**
2. å…³é—­ **è®¾å¤‡åŠ å¯†**
3. ç­‰å¾…è§£å¯†å®Œæˆï¼ˆå¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼‰

```powershell
# æ£€æŸ¥ BitLocker çŠ¶æ€
manage-bde -status

# å…³é—­ BitLocker
manage-bde -off C:
```

::: danger âš ï¸ BitLocker è­¦å‘Š
å¦‚æœä¸å…³é—­ BitLocker å°±å®‰è£… Debianï¼Œå¯èƒ½å¯¼è‡´ Windows æ— æ³•å¯åŠ¨ï¼Œéœ€è¦æ¢å¤å¯†é’¥æ‰èƒ½è§£é”ã€‚è¯·åŠ¡å¿…è®°å½•ä½ çš„ BitLocker æ¢å¤å¯†é’¥ã€‚
:::

### æ­¥éª¤ 5ï¼šå…³é—­å®‰å…¨å¯åŠ¨ï¼ˆå¯é€‰ï¼‰

æŸäº›æƒ…å†µä¸‹ Secure Boot å¯èƒ½å½±å“ Debian çš„å®‰è£…æˆ–ç¬¬ä¸‰æ–¹é©±åŠ¨ï¼š

1. é‡å¯ç”µè„‘ï¼Œè¿›å…¥ BIOS/UEFI è®¾ç½®
2. æ‰¾åˆ° **Secure Boot** é€‰é¡¹
3. å°†å…¶è®¾ç½®ä¸º **Disabled**
4. ä¿å­˜å¹¶é€€å‡º

::: tip ğŸ’¡ å…³äºå®‰å…¨å¯åŠ¨
Debian 13 å®˜æ–¹å®‰è£…é•œåƒæ”¯æŒ Secure Bootï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä¸éœ€è¦å…³é—­ã€‚åªæœ‰åœ¨å®‰è£…é‡åˆ°é—®é¢˜æˆ–éœ€è¦ä½¿ç”¨éè‡ªç”±é©±åŠ¨æ—¶æ‰éœ€è¦å…³é—­ã€‚
:::

## ğŸš€ å®‰è£… Debianï¼ˆåŒç³»ç»Ÿæ¨¡å¼ï¼‰

### å¯åŠ¨å®‰è£…ç¨‹åº

1. **æ’å…¥å¯åŠ¨ U ç›˜**
2. **é‡å¯ç”µè„‘**ï¼Œè¿›å…¥ BIOS è®¾ç½® USB ä¸ºç¬¬ä¸€å¯åŠ¨é¡¹
3. ä» U ç›˜å¯åŠ¨åï¼Œé€‰æ‹© **Graphical install**ï¼ˆå›¾å½¢ç•Œé¢å®‰è£…ï¼‰

```
Debian GNU/Linux installer boot menu

Graphical install          â† æ¨èé€‰æ‹©
Install
Advanced options >
Accessible dark contrast installer menu >
Help
Install with speech synthesis
```

### è¯­è¨€å’ŒåŸºæœ¬è®¾ç½®

1. **è¯­è¨€**ï¼šé€‰æ‹© **ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰**
2. **åœ°åŒº**ï¼šé€‰æ‹© **ä¸­å›½**
3. **é”®ç›˜**ï¼šé€‰æ‹© **æ±‰è¯­**
4. **ç½‘ç»œ**ï¼šé…ç½®ç½‘ç»œè¿æ¥ï¼ˆå¯è·³è¿‡ï¼Œå®‰è£…åé…ç½®ï¼‰
5. **ç”¨æˆ·**ï¼šè®¾ç½® root å¯†ç å’Œæ™®é€šç”¨æˆ·

::: tip ğŸ’¡ å®‰è£…è¯­è¨€å»ºè®®
é€‰æ‹©ä¸­æ–‡å®‰è£…ç•Œé¢æœ‰åŠ©äºç†è§£æ¯ä¸€æ­¥æ“ä½œã€‚å®‰è£…å®Œæˆåè¿˜å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´ç³»ç»Ÿè¯­è¨€ã€‚
:::

### å…³é”®æ­¥éª¤ï¼šç£ç›˜åˆ†åŒº

::: danger âš ï¸ æœ€é‡è¦çš„æ­¥éª¤
åˆ†åŒºæ“ä½œæ˜¯åŒç³»ç»Ÿå®‰è£…æœ€å…³é”®çš„æ­¥éª¤ã€‚é€‰é”™åˆ†åŒºå¯èƒ½ä¼šè¦†ç›– Windowsï¼è¯·ä»”ç»†æ ¸å¯¹åˆ†åŒºä¿¡æ¯ï¼Œç¡®è®¤ä½ æ“ä½œçš„æ˜¯ä¹‹å‰å‹ç¼©å‡ºçš„"ç©ºé—²ç©ºé—´"è€Œé Windows åˆ†åŒºã€‚
:::

#### é€‰æ‹©åˆ†åŒºæ–¹å¼

åœ¨å®‰è£…ç¨‹åºçš„"ç£ç›˜åˆ†åŒº"æ­¥éª¤ä¸­ï¼Œä½ ä¼šçœ‹åˆ°ä»¥ä¸‹é€‰é¡¹ï¼š

```
åˆ†åŒºæ–¹æ³•ï¼š
  â—‹ å‘å¯¼ - ä½¿ç”¨æ•´ä¸ªç£ç›˜
  â—‹ å‘å¯¼ - ä½¿ç”¨æ•´ä¸ªç£ç›˜å¹¶é…ç½® LVM
  â—‹ å‘å¯¼ - ä½¿ç”¨æ•´ä¸ªç£ç›˜å¹¶é…ç½®åŠ å¯† LVM
  â— æ‰‹åŠ¨                          â† åŒç³»ç»Ÿå¿…é¡»é€‰æ‹©æ‰‹åŠ¨ï¼
```

**åŒç³»ç»Ÿå®‰è£…å¿…é¡»é€‰æ‹©"æ‰‹åŠ¨"ï¼** å…¶ä»–é€‰é¡¹ä¼šæ“¦é™¤æ•´ä¸ªç£ç›˜ã€‚

#### åˆ†åŒºæ“ä½œæµç¨‹

```mermaid
flowchart TD
    A[é€‰æ‹©æ‰‹åŠ¨åˆ†åŒº] --> B[æŸ¥çœ‹ç£ç›˜åˆ†åŒºåˆ—è¡¨]
    B --> C{æ‰¾åˆ°ç©ºé—²ç©ºé—´}
    C -->|æ‰¾åˆ°æœªåˆ†é…ç©ºé—´| D[é€‰ä¸­ç©ºé—²ç©ºé—´]
    C -->|æ²¡æœ‰ç©ºé—²ç©ºé—´| E[è¿”å› Windows å‹ç¼©åˆ†åŒº]
    D --> F[åˆ›å»ºæ–°åˆ†åŒº]
    F --> G["åˆ›å»º / æ ¹åˆ†åŒº\next4, 30-50 GB"]
    G --> H["åˆ›å»º /home åˆ†åŒº\next4, å‰©ä½™ç©ºé—´å¤§éƒ¨åˆ†"]
    H --> I["åˆ›å»º swap åˆ†åŒº\näº¤æ¢ç©ºé—´, ç­‰äºå†…å­˜å¤§å°"]
    I --> J{æ£€æŸ¥åˆ†åŒºè¡¨}
    J -->|ç¡®è®¤æ— è¯¯| K["ç¡®è®¤å†™å…¥åˆ†åŒºè¡¨\nâš ï¸ ä¸è¦ä¿®æ”¹ NTFS åˆ†åŒº"]
    J -->|å‘ç°é—®é¢˜| B
    K --> L[ç»§ç»­å®‰è£…]
```

#### è¯¦ç»†åˆ†åŒºæ­¥éª¤

**1. åœ¨ç©ºé—²ç©ºé—´ä¸Šåˆ›å»ºæ ¹åˆ†åŒº `/`ï¼š**

```bash
# é€‰ä¸­"ç©ºé—²ç©ºé—´" â†’ åˆ›å»ºæ–°åˆ†åŒº
å¤§å°ï¼š30 GBï¼ˆæˆ–æ›´å¤šï¼‰
ç±»å‹ï¼šä¸»åˆ†åŒº
ä½ç½®ï¼šç©ºé—´èµ·å§‹ä½ç½®
ç”¨é€”ï¼šExt4 æ—¥å¿—æ–‡ä»¶ç³»ç»Ÿ
æŒ‚è½½ç‚¹ï¼š/
```

**2. åˆ›å»º /home åˆ†åŒºï¼š**

```bash
# é€‰ä¸­å‰©ä½™ç©ºé—²ç©ºé—´ â†’ åˆ›å»ºæ–°åˆ†åŒº
å¤§å°ï¼šï¼ˆå‰©ä½™ç©ºé—´å‡å» swap å¤§å°ï¼‰
ç±»å‹ï¼šé€»è¾‘åˆ†åŒº
ç”¨é€”ï¼šExt4 æ—¥å¿—æ–‡ä»¶ç³»ç»Ÿ
æŒ‚è½½ç‚¹ï¼š/home
```

**3. åˆ›å»º swap äº¤æ¢åˆ†åŒºï¼š**

```bash
# é€‰ä¸­å‰©ä½™ç©ºé—²ç©ºé—´ â†’ åˆ›å»ºæ–°åˆ†åŒº
å¤§å°ï¼šç­‰äºå†…å­˜å¤§å°ï¼ˆå¦‚ 8 GBï¼‰
ç±»å‹ï¼šé€»è¾‘åˆ†åŒº
ç”¨é€”ï¼šäº¤æ¢ç©ºé—´
```

**4. è®¾ç½® EFI åˆ†åŒºï¼ˆUEFI æ¨¡å¼ï¼‰ï¼š**

```bash
# ä¸éœ€è¦åˆ›å»ºæ–°çš„ EFI åˆ†åŒºï¼
# æ‰¾åˆ°å·²æœ‰çš„ EFI ç³»ç»Ÿåˆ†åŒºï¼ˆé€šå¸¸ 100-512 MBï¼ŒFAT32ï¼‰
# ç¡®è®¤å…¶æŒ‚è½½ç‚¹ä¸º /boot/efi
# Debian ä¼šä¸ Windows å…±ç”¨è¿™ä¸ª EFI åˆ†åŒº
```

::: warning âš ï¸ åˆ†åŒºæ ¸å¯¹è¦ç‚¹
åœ¨ç¡®è®¤å†™å…¥åˆ†åŒºè¡¨ä¹‹å‰ï¼Œè¯·ä»”ç»†æ£€æŸ¥ï¼š
- Windows çš„ NTFS åˆ†åŒº**æ²¡æœ‰è¢«ä¿®æ”¹**
- EFI ç³»ç»Ÿåˆ†åŒº**æ²¡æœ‰è¢«æ ¼å¼åŒ–**ï¼ˆä»…è®¾ç½®æŒ‚è½½ç‚¹ï¼‰
- æ–°åˆ†åŒº**åªåˆ›å»ºåœ¨ç©ºé—²ç©ºé—´**ä¸Š
- åˆ†åŒºå¤§å°ä¸è§„åˆ’ä¸€è‡´
:::

### å¼•å¯¼åŠ è½½å™¨å®‰è£…ä½ç½®

å®‰è£…ç¨‹åºä¼šè¯¢é—® GRUB å¼•å¯¼åŠ è½½å™¨çš„å®‰è£…ä½ç½®ï¼š

**UEFI æ¨¡å¼ï¼š**
- GRUB ä¼šè‡ªåŠ¨å®‰è£…åˆ° EFI ç³»ç»Ÿåˆ†åŒº
- ä¸éœ€è¦é¢å¤–æ“ä½œï¼Œå®‰è£…ç¨‹åºä¼šè‡ªåŠ¨å¤„ç†

**Legacy BIOS æ¨¡å¼ï¼š**
- é€‰æ‹©å®‰è£… GRUB åˆ°ç£ç›˜çš„ MBR
- é€šå¸¸é€‰æ‹© `/dev/sda`ï¼ˆä¸»ç¡¬ç›˜ï¼‰
- ä¸è¦é€‰æ‹©åˆ†åŒºï¼ˆå¦‚ `/dev/sda1`ï¼‰ï¼Œè¦é€‰æ‹©æ•´ä¸ªç£ç›˜

### å®Œæˆå®‰è£…

1. ç­‰å¾…ç³»ç»Ÿå®‰è£…å®Œæˆ
2. ç§»é™¤ U ç›˜
3. é‡å¯ç”µè„‘
4. ä½ ä¼šçœ‹åˆ° GRUB å¼•å¯¼èœå•ï¼Œåˆ—å‡º Debian å’Œ Windows

## ğŸ”Œ GRUB å¼•å¯¼ç®¡ç†

### ä»€ä¹ˆæ˜¯ GRUB

GRUBï¼ˆGRand Unified Bootloaderï¼‰æ˜¯ Linux ç³»ç»Ÿæœ€å¸¸ç”¨çš„å¼•å¯¼åŠ è½½å™¨ã€‚å®‰è£…åŒç³»ç»Ÿåï¼ŒGRUB ä¼šåœ¨å¼€æœºæ—¶æ˜¾ç¤ºä¸€ä¸ªèœå•ï¼Œè®©ä½ é€‰æ‹©å¯åŠ¨ Debian è¿˜æ˜¯ Windowsã€‚

```bash
                     GNU GRUB  version 2.12

      Debian GNU/Linux
      Advanced options for Debian GNU/Linux
      Windows Boot Manager (on /dev/sda1)

Use the â†‘ and â†“ keys to select which entry is highlighted.
Press enter to boot the selected OS.
```

### ä¿®æ”¹é»˜è®¤å¯åŠ¨ç³»ç»Ÿ

é»˜è®¤æƒ…å†µä¸‹ï¼ŒGRUB ä¼šä¼˜å…ˆå¯åŠ¨ Debianã€‚å¦‚æœä½ å¸Œæœ›é»˜è®¤å¯åŠ¨ Windowsï¼š

```bash
# ç¼–è¾‘ GRUB é…ç½®
sudo nano /etc/default/grub

# æ‰¾åˆ°å¹¶ä¿®æ”¹ä»¥ä¸‹å‚æ•°ï¼š
GRUB_DEFAULT=0          # 0=ç¬¬ä¸€é¡¹(Debian), 2=ç¬¬ä¸‰é¡¹(é€šå¸¸æ˜¯Windows)
GRUB_TIMEOUT=5          # ç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œè®¾ä¸º 0 åˆ™ä¸æ˜¾ç¤ºèœå•
GRUB_TIMEOUT_STYLE=menu # menu=æ˜¾ç¤ºèœå•, hidden=éšè—èœå•

# ä¿å­˜é€€å‡ºåï¼Œæ›´æ–° GRUB é…ç½®
sudo update-grub
```

::: tip ğŸ’¡ ä½¿ç”¨èœå•é¡¹åç§°è®¾ç½®é»˜è®¤
ä½ ä¹Ÿå¯ä»¥ç”¨åç§°æ¥æŒ‡å®šé»˜è®¤å¯åŠ¨é¡¹ï¼Œè¿™æ ·å³ä½¿é¡ºåºå˜åŒ–ä¹Ÿä¸å—å½±å“ï¼š
```bash
GRUB_DEFAULT="Windows Boot Manager (on /dev/sda1)"
```
:::

### GRUB ç•Œé¢ç¾åŒ–ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æƒ³è®© GRUB èœå•æ›´ç¾è§‚ï¼š

```bash
# å®‰è£… GRUB ä¸»é¢˜ï¼ˆä»¥ Vimix ä¸ºä¾‹ï¼‰
sudo apt install grub2-themes-vimix

# æˆ–è€…æ‰‹åŠ¨å®‰è£…ç¬¬ä¸‰æ–¹ä¸»é¢˜
cd /tmp
git clone https://github.com/vinceliuice/grub2-themes.git
cd grub2-themes
sudo ./install.sh -b -t tela

# æ›´æ–° GRUB ä½¿ä¸»é¢˜ç”Ÿæ•ˆ
sudo update-grub
```

## ğŸ• æ—¶é—´åŒæ­¥é—®é¢˜

### é—®é¢˜è¯´æ˜

åŒç³»ç»Ÿç”¨æˆ·å‡ ä¹éƒ½ä¼šé‡åˆ°çš„ä¸€ä¸ªé—®é¢˜ï¼šåˆ‡æ¢ç³»ç»Ÿåæ—¶é—´ä¸å¯¹ã€‚

**åŸå› **ï¼šWindows å°†ç¡¬ä»¶æ—¶é’Ÿï¼ˆRTCï¼‰è§†ä¸ºæœ¬åœ°æ—¶é—´ï¼Œè€Œ Linux é»˜è®¤å°†å…¶è§†ä¸º UTC æ—¶é—´ã€‚å½“ä½ ä» Linux åˆ‡æ¢åˆ° Windowsï¼ˆæˆ–åè¿‡æ¥ï¼‰ï¼Œç³»ç»Ÿæ—¶é—´å°±ä¼šäº§ç”Ÿåå·®ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸­å›½ï¼ˆUTC+8ï¼‰ä½¿ç”¨æ—¶ï¼Œæ—¶é—´ä¼šå·® 8 ä¸ªå°æ—¶ã€‚

### è§£å†³æ–¹æ¡ˆ

**æ–¹æ³•ä¸€ï¼šè®© Debian ä½¿ç”¨æœ¬åœ°æ—¶é—´ï¼ˆæ¨èåŒç³»ç»Ÿç”¨æˆ·ï¼‰**

```bash
# æŸ¥çœ‹å½“å‰æ—¶é—´è®¾ç½®
timedatectl

# è®¾ç½® Debian ä½¿ç”¨æœ¬åœ°æ—¶é—´ï¼ˆä¸ Windows ä¿æŒä¸€è‡´ï¼‰
timedatectl set-local-rtc 1

# éªŒè¯è®¾ç½®
timedatectl
# åº”è¯¥æ˜¾ç¤ºï¼šRTC in local TZ: yes
```

**æ–¹æ³•äºŒï¼šè®© Windows ä½¿ç”¨ UTC**

```powershell
# åœ¨ç®¡ç†å‘˜ PowerShell ä¸­è¿è¡Œ
reg add "HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TimeZoneInformation" /v RealTimeIsUniversal /d 1 /t REG_DWORD /f
# é‡å¯ Windows ç”Ÿæ•ˆ
```

::: tip ğŸ’¡ æ¨èæ–¹æ³•ä¸€
æ–¹æ³•ä¸€æœ€ç®€å•ä¸”ä¸å½±å“ Windows çš„æ­£å¸¸ä½¿ç”¨ï¼Œæ¨èåŒç³»ç»Ÿç”¨æˆ·é‡‡ç”¨ã€‚
:::

## ğŸ“‚ è®¿é—® Windows æ–‡ä»¶

åŒç³»ç»Ÿæœ€æ–¹ä¾¿çš„åœ°æ–¹ä¹‹ä¸€æ˜¯å¯ä»¥åœ¨ Debian ä¸­ç›´æ¥è®¿é—® Windows åˆ†åŒºçš„æ–‡ä»¶ã€‚

### å®‰è£… NTFS æ”¯æŒ

```bash
# Debian 13 é€šå¸¸å·²é¢„è£… ntfs-3gï¼Œå¦‚æœæ²¡æœ‰åˆ™æ‰‹åŠ¨å®‰è£…
sudo apt install ntfs-3g
```

### æ‰‹åŠ¨æŒ‚è½½ NTFS åˆ†åŒº

```bash
# æŸ¥çœ‹ç£ç›˜åˆ†åŒºä¿¡æ¯ï¼Œæ‰¾åˆ° Windows åˆ†åŒº
sudo fdisk -l
# æˆ–è€…ä½¿ç”¨æ›´ç›´è§‚çš„å‘½ä»¤
lsblk -f

# è¾“å‡ºç¤ºä¾‹ï¼š
# NAME   FSTYPE   LABEL     MOUNTPOINT
# sda
# â”œâ”€sda1 vfat     EFI       /boot/efi
# â”œâ”€sda2 ntfs     Recovery
# â”œâ”€sda3 ntfs     Windows            â† è¿™æ˜¯ Windows ç³»ç»Ÿåˆ†åŒº
# â”œâ”€sda4 ext4                /
# â”œâ”€sda5 ext4                /home
# â””â”€sda6 swap                [SWAP]

# åˆ›å»ºæŒ‚è½½ç‚¹
sudo mkdir -p /mnt/windows

# æŒ‚è½½ Windows åˆ†åŒºï¼ˆå‡è®¾æ˜¯ /dev/sda3ï¼‰
sudo mount -t ntfs-3g /dev/sda3 /mnt/windows

# æŸ¥çœ‹æ–‡ä»¶
ls /mnt/windows/Users/ä½ çš„ç”¨æˆ·å/
```

### è®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½

```bash
# æŸ¥çœ‹ Windows åˆ†åŒºçš„ UUID
sudo blkid /dev/sda3
# è¾“å‡ºç¤ºä¾‹ï¼š/dev/sda3: UUID="XXXX-XXXX" TYPE="ntfs" LABEL="Windows"

# ç¼–è¾‘ fstab æ–‡ä»¶
sudo nano /etc/fstab

# åœ¨æœ«å°¾æ·»åŠ ä¸€è¡Œï¼ˆæ›¿æ¢ UUID ä¸ºå®é™…å€¼ï¼‰
# åªè¯»æŒ‚è½½ï¼ˆæ¨èï¼Œæ›´å®‰å…¨ï¼‰
UUID=XXXX-XXXX  /mnt/windows  ntfs-3g  ro,auto,users,uid=1000,gid=1000  0  0

# è¯»å†™æŒ‚è½½ï¼ˆå¦‚éœ€è¦åœ¨ Debian ä¸­ä¿®æ”¹ Windows æ–‡ä»¶ï¼‰
# UUID=XXXX-XXXX  /mnt/windows  ntfs-3g  rw,auto,users,uid=1000,gid=1000  0  0

# æµ‹è¯•æŒ‚è½½é…ç½®ï¼ˆä¸é‡å¯ï¼‰
sudo mount -a
```

::: warning âš ï¸ å®‰å…¨å»ºè®®
å»ºè®®ä»¥åªè¯»æ–¹å¼ï¼ˆ`ro`ï¼‰æŒ‚è½½ Windows ç³»ç»Ÿåˆ†åŒºï¼Œé¿å…æ„å¤–ä¿®æ”¹å¯¼è‡´ Windows æ— æ³•å¯åŠ¨ã€‚å¦‚æœéœ€è¦åœ¨ä¸¤ä¸ªç³»ç»Ÿé—´ä¼ è¾“æ–‡ä»¶ï¼Œå»ºè®®åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ NTFS å…±äº«æ•°æ®åˆ†åŒºã€‚
:::

## ğŸ”„ å¯åŠ¨é¡ºåºç®¡ç†

### UEFI å¯åŠ¨ç®¡ç†

UEFI ç³»ç»Ÿæœ‰è‡ªå·±çš„å¯åŠ¨ç®¡ç†å™¨ï¼Œå¯ä»¥ç‹¬ç«‹äº GRUB ç®¡ç†å¯åŠ¨é¡ºåºï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯åŠ¨é¡¹
efibootmgr -v

# è¾“å‡ºç¤ºä¾‹ï¼š
# BootCurrent: 0001
# BootOrder: 0001,0000,0002
# Boot0000* Windows Boot Manager
# Boot0001* debian
# Boot0002* USB Device

# ä¿®æ”¹å¯åŠ¨é¡ºåºï¼ˆè®© Debian ä¼˜å…ˆï¼‰
sudo efibootmgr -o 0001,0000,0002

# ä¿®æ”¹å¯åŠ¨é¡ºåºï¼ˆè®© Windows ä¼˜å…ˆï¼‰
sudo efibootmgr -o 0000,0001,0002
```

### ä¸´æ—¶åˆ‡æ¢å¯åŠ¨

ä¸æƒ³ä¿®æ”¹é»˜è®¤è®¾ç½®ï¼Œä½†ä¸‹æ¬¡å¯åŠ¨æƒ³è¿› Windowsï¼Ÿ

```bash
# ä¸‹æ¬¡å¯åŠ¨æ—¶è¿›å…¥ Windowsï¼ˆä»…ä¸€æ¬¡ï¼‰
sudo grub-reboot "Windows Boot Manager"
sudo reboot
# è¿™æ¬¡é‡å¯ä¼šè¿›å…¥ Windowsï¼Œä¹‹åå†é‡å¯åˆä¼šå›åˆ°é»˜è®¤çš„ Debian
```

### ä» Windows åˆ‡æ¢åˆ° Debian

åœ¨ Windows ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼é‡å¯åˆ° Debianï¼š

1. **æ–¹æ³•ä¸€**ï¼šæ­£å¸¸é‡å¯ï¼Œåœ¨ GRUB èœå•é€‰æ‹© Debian
2. **æ–¹æ³•äºŒ**ï¼šè¿›å…¥ UEFI å›ºä»¶è®¾ç½®é€‰æ‹©å¯åŠ¨é¡¹
   - **è®¾ç½®** â†’ **ç³»ç»Ÿ** â†’ **æ¢å¤** â†’ **é«˜çº§å¯åŠ¨** â†’ **ç«‹å³é‡æ–°å¯åŠ¨**
   - é€‰æ‹© **ä½¿ç”¨è®¾å¤‡** â†’ **debian**

## ğŸ†˜ æ•…éšœæ’æŸ¥

åŒç³»ç»Ÿä½¿ç”¨è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œä»¥ä¸‹æ˜¯å¸¸è§æ•…éšœçš„æ’æŸ¥å’Œè§£å†³æ–¹æ³•ã€‚

### GRUB å¯åŠ¨èœå•ä¸è§äº†

è¿™æ˜¯åŒç³»ç»Ÿæœ€å¸¸è§çš„é—®é¢˜ï¼Œé€šå¸¸æ˜¯å› ä¸º Windows æ›´æ–°è¦†ç›–äº†å¼•å¯¼è®°å½•ã€‚

```mermaid
flowchart TD
    A[GRUB èœå•ä¸æ˜¾ç¤º] --> B{èƒ½å¦å¯åŠ¨ Debianï¼Ÿ}
    B -->|èƒ½å¯åŠ¨ Debian| C[åœ¨ Debian ä¸­ä¿®å¤]
    B -->|ä¸èƒ½å¯åŠ¨<br/>ç›´æ¥è¿›äº† Windows| D{æœ‰ Debian Live USB å—ï¼Ÿ}
    C --> C1["sudo update-grub"]
    C1 --> C2{ä¿®å¤æˆåŠŸï¼Ÿ}
    C2 -->|æ˜¯| OK[âœ… é—®é¢˜è§£å†³]
    C2 -->|å¦| C3["sudo grub-install\nsudo update-grub"]
    C3 --> OK
    D -->|æœ‰| E[ä» Live USB å¯åŠ¨]
    D -->|æ²¡æœ‰| F[å…ˆåˆ¶ä½œ Live USB]
    F --> E
    E --> G[æŒ‚è½½ Debian åˆ†åŒº<br/>chroot è¿›å…¥ç³»ç»Ÿ]
    G --> H["é‡æ–°å®‰è£… GRUB\ngrub-install + update-grub"]
    H --> I[é‡å¯æ‹”æ‰ U ç›˜]
    I --> OK
```

### Windows æ›´æ–°å GRUB æ¶ˆå¤±

Windows å¤§ç‰ˆæœ¬æ›´æ–°å¯èƒ½ä¼šè¦†ç›– EFI åˆ†åŒºçš„å¼•å¯¼é…ç½®ï¼š

```bash
# ä» Debian Live USB å¯åŠ¨åæ‰§è¡Œä»¥ä¸‹æ“ä½œ

# 1. æŸ¥çœ‹åˆ†åŒºä¿¡æ¯ï¼Œæ‰¾åˆ° Debian æ ¹åˆ†åŒºå’Œ EFI åˆ†åŒº
lsblk

# 2. æŒ‚è½½ Debian æ ¹åˆ†åŒºï¼ˆå‡è®¾æ˜¯ /dev/sda4ï¼‰
sudo mount /dev/sda4 /mnt

# 3. æŒ‚è½½å¿…è¦çš„æ–‡ä»¶ç³»ç»Ÿ
sudo mount /dev/sda1 /mnt/boot/efi   # EFI åˆ†åŒº
sudo mount --bind /dev /mnt/dev
sudo mount --bind /proc /mnt/proc
sudo mount --bind /sys /mnt/sys

# 4. è¿›å…¥ Debian ç³»ç»Ÿç¯å¢ƒ
sudo chroot /mnt

# 5. é‡æ–°å®‰è£… GRUB
grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=debian
update-grub

# 6. é€€å‡ºå¹¶é‡å¯
exit
sudo umount -R /mnt
sudo reboot
```

### æ‰¾ä¸åˆ° Windows å¯åŠ¨é¡¹

å¦‚æœ GRUB èœå•ä¸­æ²¡æœ‰ Windows é€‰é¡¹ï¼š

```bash
# å®‰è£… os-proberï¼ˆæ£€æµ‹å…¶ä»–æ“ä½œç³»ç»Ÿçš„å·¥å…·ï¼‰
sudo apt install os-prober

# å¯ç”¨ os-proberï¼ˆDebian 12+ é»˜è®¤ç¦ç”¨ï¼‰
sudo nano /etc/default/grub
# æ·»åŠ ä»¥ä¸‹è¡Œï¼š
# GRUB_DISABLE_OS_PROBER=false

# è¿è¡Œ os-prober æ£€æµ‹ Windows
sudo os-prober
# åº”è¯¥è¾“å‡ºç±»ä¼¼ï¼š/dev/sda1@/EFI/Microsoft/Boot/bootmgfw.efi:Windows Boot Manager:Windows:efi

# æ›´æ–° GRUB èœå•
sudo update-grub

# æ£€æŸ¥ GRUB é…ç½®ä¸­æ˜¯å¦åŒ…å« Windows
grep -i windows /boot/grub/grub.cfg
```

### æ—¶é—´æ˜¾ç¤ºä¸æ­£ç¡®

è¯·å‚è€ƒä¸Šæ–¹ [æ—¶é—´åŒæ­¥é—®é¢˜](#ğŸ•-æ—¶é—´åŒæ­¥é—®é¢˜) ç« èŠ‚çš„è§£å†³æ–¹æ¡ˆã€‚

### Debian æ— æ³•è®¿é—® Windows åˆ†åŒº

```bash
# é”™è¯¯ä¿¡æ¯ï¼šThe disk contains an unclean file system
# åŸå› ï¼šWindows å¿«é€Ÿå¯åŠ¨æœªå…³é—­ï¼Œæˆ– Windows æœªæ­£å¸¸å…³æœº

# è§£å†³æ–¹æ¡ˆä¸€ï¼šåœ¨ Windows ä¸­æ­£å¸¸å…³æœºï¼ˆä¸è¦ä¼‘çœ æˆ–å¿«é€Ÿå¯åŠ¨ï¼‰

# è§£å†³æ–¹æ¡ˆäºŒï¼šå¼ºåˆ¶åªè¯»æŒ‚è½½
sudo mount -t ntfs-3g -o ro /dev/sda3 /mnt/windows

# è§£å†³æ–¹æ¡ˆä¸‰ï¼šä¿®å¤ NTFS æ–‡ä»¶ç³»ç»Ÿï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
sudo ntfsfix /dev/sda3
```

### GRUB å¼•å¯¼æŠ¥é”™ "error: unknown filesystem"

```bash
# ä» Live USB å¯åŠ¨
# æ£€æŸ¥ç£ç›˜åˆ†åŒºæ˜¯å¦å®Œå¥½
sudo fdisk -l

# æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿ
sudo fsck /dev/sda4   # Debian æ ¹åˆ†åŒº
sudo fsck /dev/sda1   # EFI åˆ†åŒº

# å¦‚æœ EFI åˆ†åŒºæŸåï¼Œé‡æ–°å®‰è£… GRUBï¼ˆæ­¥éª¤åŒä¸Šï¼‰
```

## ğŸ—‘ï¸ å¸è½½åŒç³»ç»Ÿ

å¦‚æœä½ å†³å®šä¸å†ä½¿ç”¨åŒç³»ç»Ÿï¼Œå¯ä»¥å®‰å…¨åœ°å¸è½½å…¶ä¸­ä¸€ä¸ªç³»ç»Ÿã€‚

### å¸è½½ Debian ä¿ç•™ Windows

**æ­¥éª¤ 1ï¼šä¿®å¤ Windows å¼•å¯¼**

```cmd
:: ä» Windows å®‰è£…ç›˜å¯åŠ¨ï¼Œè¿›å…¥ä¿®å¤æ¨¡å¼
:: é€‰æ‹©ï¼šç–‘éš¾è§£ç­” â†’ å‘½ä»¤æç¤ºç¬¦

:: ä¿®å¤ Windows å¼•å¯¼
bootrec /fixmbr
bootrec /fixboot
bootrec /rebuildbcd

:: æˆ–ä½¿ç”¨ UEFI æ–¹å¼ä¿®å¤
bcdboot C:\Windows /s S: /f UEFI
```

**æ­¥éª¤ 2ï¼šåˆ é™¤ Debian åˆ†åŒº**

1. å¯åŠ¨ Windows
2. æ‰“å¼€ **ç£ç›˜ç®¡ç†**ï¼ˆå³é”®"æ­¤ç”µè„‘" â†’ ç®¡ç† â†’ ç£ç›˜ç®¡ç†ï¼‰
3. å³é”® Debian çš„ ext4 å’Œ swap åˆ†åŒº â†’ **åˆ é™¤å·**
4. å³é”® Windows åˆ†åŒº â†’ **æ‰©å±•å·**ï¼Œå°†ç©ºé—´åˆå¹¶å› Windows

**æ­¥éª¤ 3ï¼šæ¸…ç† EFI åˆ†åŒºä¸­çš„ Debian å¯åŠ¨æ–‡ä»¶**

```cmd
:: åœ¨ç®¡ç†å‘˜å‘½ä»¤æç¤ºç¬¦ä¸­
:: æŒ‚è½½ EFI åˆ†åŒº
mountvol S: /s

:: åˆ é™¤ Debian å¯åŠ¨æ–‡ä»¶
rd /s /q S:\EFI\debian

:: å¸è½½ EFI åˆ†åŒº
mountvol S: /d
```

### å¸è½½ Windows ä¿ç•™ Debian

**æ­¥éª¤ 1ï¼šå¤‡ä»½ Windows ä¸­éœ€è¦çš„æ–‡ä»¶**

```bash
# åœ¨ Debian ä¸­æŒ‚è½½ Windows åˆ†åŒºï¼Œå¤åˆ¶éœ€è¦çš„æ–‡ä»¶
sudo mount -t ntfs-3g /dev/sda3 /mnt/windows
cp -r /mnt/windows/Users/ä½ çš„ç”¨æˆ·å/Documents ~/windows-backup/
```

**æ­¥éª¤ 2ï¼šåˆ é™¤ Windows åˆ†åŒºå¹¶æ‰©å±• Debian**

```bash
# å®‰è£… GPartedï¼ˆå›¾å½¢åˆ†åŒºå·¥å…·ï¼‰
sudo apt install gparted

# è¿è¡Œ GParted
sudo gparted
# åœ¨ GParted ä¸­ï¼š
# 1. åˆ é™¤ Windows NTFS åˆ†åŒº
# 2. è°ƒæ•´ Debian /home åˆ†åŒºå¤§å°ï¼Œåˆ©ç”¨é‡Šæ”¾çš„ç©ºé—´
# 3. åº”ç”¨æ›´æ”¹
```

**æ­¥éª¤ 3ï¼šæ¸…ç† GRUB**

```bash
# æ›´æ–° GRUB é…ç½®ï¼ˆç§»é™¤ Windows å¯åŠ¨é¡¹ï¼‰
sudo update-grub
```

::: danger âš ï¸ ä¸å¯é€†æ“ä½œ
å¸è½½æ“ä½œä¸å¯é€†ï¼Œè¯·åŠ¡å¿…æå‰å¤‡ä»½é‡è¦æ•°æ®ï¼åˆ é™¤åˆ†åŒºåæ•°æ®å°†æ— æ³•æ¢å¤ã€‚
:::

## ä¸‹ä¸€æ­¥

åŒç³»ç»Ÿå®‰è£…å®Œæˆåï¼Œä½ å¯ä»¥ç»§ç»­ä»¥ä¸‹å†…å®¹ï¼š

1. [é¦–æ¬¡å¯åŠ¨é…ç½®](/basics/first-boot) - å®Œæˆ Debian çš„åŸºæœ¬è®¾ç½®å’Œä¼˜åŒ–
2. [Shell ä¸å‘½ä»¤è¡ŒåŸºç¡€](/basics/command-line) - å­¦ä¹  Linux å‘½ä»¤è¡Œçš„åŸºæœ¬æ“ä½œ
3. [è½¯ä»¶åŒ…ç®¡ç†](/administration/packages) - å­¦ä¹ å¦‚ä½•å®‰è£…å’Œç®¡ç†è½¯ä»¶
4. [ç½‘ç»œé…ç½®](/administration/network) - é…ç½®æœ‰çº¿å’Œæ— çº¿ç½‘ç»œ
5. [å®‰å…¨åŠ å›º](/administration/security) - ä¿æŠ¤ä½ çš„ç³»ç»Ÿå®‰å…¨

---

**åŒç³»ç»Ÿå®‰è£…æˆåŠŸäº†ï¼Ÿ** [å¼€å§‹é…ç½®ä½ çš„ Debian â†’](/basics/first-boot)